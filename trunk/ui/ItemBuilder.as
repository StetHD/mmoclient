package ui {		import flash.display.MovieClip;	import fl.text.TLFTextField;	import flash.events.MouseEvent;	import flashx.textLayout.formats.TextLayoutFormat;	import flashx.textLayout.elements.TextFlow;			public class ItemBuilder extends MovieClip {				public var itemBuilderStats:ItemBuilderStats;		public var itemName:TLFTextField;		public var statsText:TLFTextField;		public var materialsText:TLFTextField;		public var itemDropDown:ItemDropDown;		public var levelDropDown:LevelDropDown;		public var closeButton:CloseButton;		public var itemDropDownBg:MovieClip;		public var levelDropDownBg:MovieClip;		public var itemList:Array;		public var levelList:Array;				private var dropDownBgHeight:int;				public function ItemBuilder() 		{			itemList = new Array();			levelList = new Array();						dropDownBgHeight = itemDropDownBg.height;						statsText.addEventListener(MouseEvent.CLICK, statsClick);			materialsText.addEventListener(MouseEvent.CLICK, materialsClick);			itemDropDown.addEventListener(MouseEvent.CLICK, itemDropDownClick);			levelDropDown.addEventListener(MouseEvent.CLICK, levelDropDownClick);						closeButton.addEventListener(MouseEvent.CLICK, closeButtonClick);		}				public function showPanel() : void		{			this.visible = true;			itemDropDownBg.visible = false;			levelDropDownBg.visible = false;								}				private function itemDropDownClick(e:MouseEvent) : void		{			itemList.push(1);			itemList.push(1);						itemDropDownBg.visible = true;			itemDropDownBg.height = 100;						var dropDown:MovieClip = new MovieClip();			dropDown.x = 104;			dropDown.y = 65;			addChild(dropDown);			dropDown.addChild(itemDropDownBg);						trace("itemdropdownbg.height: " + itemDropDownBg.height);			trace("dropDownBgHeight: " + dropDownBgHeight);						for(var i:int = 0; i < itemList.length; i++)			{				var item:TLFTextField = new TLFTextField();	 			itemDropDownBg.addChild(item); 	 			item.x = 0;				item.y = i * dropDownBgHeight;				item.width = itemDropDownBg.width;				item.height = dropDownBgHeight;				item.text = "Item Test";				 			    var myFormat:TextLayoutFormat = new TextLayoutFormat();				myFormat.textIndent = 8;			    myFormat.color = 0xFFFFFF;				myFormat.fontFamily = "Verdana";				myFormat.fontSize = 10;				 				var myTextFlow:TextFlow = item.textFlow;				myTextFlow.hostFormat = myFormat;				myTextFlow.flowComposer.updateAllControllers();							}		}				private function levelDropDownClick(e:MouseEvent) : void		{			levelDropDownBg.visible = true;		}				private function statsClick(e:MouseEvent) : void		{			itemBuilderStats.visible = true;		}				private function materialsClick(e:MouseEvent) : void		{			itemBuilderStats.visible = false;		}				private function closeButtonClick(e:MouseEvent) : void		{			this.visible = false;		}			}	}